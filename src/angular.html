<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
  <meta charset="utf-8">
  <title>Stencil Starter App</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
  <meta name="theme-color" content="#16161d">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <script src="/libs/angular.js"></script>
  <script src="/build/app.js"></script>

  <link rel="apple-touch-icon" href="/assets/icon/icon.png">
  <link rel="icon" type="image/x-icon" href="/assets/icon/favicon.ico">
  <link rel="manifest" href="/manifest.json">
</head>
<body ng-app="CorporateUi" ng-controller="App as app">
  <!-- Initialize Corporate-ui -->
  <corporate-ui brand="{{app.brand}}"></corporate-ui>

  <corporate-header site-name="{{app.siteName}}" ng-attr-items="{{app.topItems}}">
    <li slot="items" class="nav-item"><a href="" class="nav-link">About</a></li>
    <li slot="items" class="nav-item" ng-repeat="item in main.items"><a href="" class="nav-link">{{item.name}}</a></li>
  </corporate-header>

  <!-- <scania-header></scania-header> -->

  <main>
    <main-navigation ng-items="{{app.mainItems}}"></main-navigation>

    <section>
      <img src="http://www.kudauk.ltd.uk/content/images/1900x285/Lightbar_Banner-01_2.jpg" alt="Hero image" class="w-100">
    </section>

    <section>
      <scania-panel class="container">
        <h2 slot="header">Headline</h2>
        <p slot="main">Paragraph</p>
        <button slot="footer">primary</button>
        <button slot="footer">cancel</button>
      </scania-panel>
    </section>

    <section>
      <div class="container pt-5 pb-5">
        <div class="row">
          <div class="col-sm">
            <img src="https://static.scania.com/resources/images/demo/sneaky-road.jpg" alt="Hero image" class="w-100">
          </div>
          <div class="col-sm">
            <h1>Sustainability</h1>
            <p>By leveraging customer profitability as our starting point, we want to be the leading provider of sustainable transport. This means integrating sustainability fully into the business and working with others to tackle impacts, transform our industry and create lasting value.</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <corporate-footer></corporate-footer>

  <script>
    /* External application code */
    (function() {
      /* NOTE - We would like to use ng-attr-items instead and have a callback that setts
      props on element to attribute value */

      angular.module('CorporateUi', []);

      angular.module('CorporateUi')
        .config(Config)
        .controller('App', ['$scope', App])
        .directive('ngItems', ngItems);

      function Config($provide) {

        debugger
        /*$provide.decorator('ngAttrDirective', function($delegate) {
          var directive = $delegate[0];
          angular.extend(directive.scope, {
            disabled:'@'
          });
          return $delegate;
        });*/

        /*$provide.service('interpolate', function(asdas, dfgdfg) {
          debugger
          //return $delegate;
        });*/
      }

      function App($scope) {
        var vm = this;
        vm.brand = 'scania';
        vm.siteName = 'Corporate UI';
        vm.topItems = [{name: 'Global'}];
        vm.mainItems = [{name: 'Home'}, {name: 'Link'}];
      }

      function ngItems() {
        return {
          link: function(scope, element, attr) {
            element[0].items = JSON.parse( attr.ngItems || [] );
          }
        };
      }
    })()
  </script>
</body>
</html>
